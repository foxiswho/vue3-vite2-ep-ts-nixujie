import{u as e,d as a,b as l,e as r,A as t,k as s,l as o,r as n,o as u,c as d,m as i,q as m,B as p}from"./element-plus.93d71f21.js";import{b as c,a as f,u as b}from"./index.bbe3d26c.js";function y(a){(0,e(a).resetFields)()}var w=a({name:"Login",setup(){let a=l({name:"admin",pwd:"admin"});const s=r(null);const o=c(),n=f(),u=b(),d=n.query&&n.query.redirect?n.query.redirect:"",i=n.query?(m=n.query,Object.keys(m).reduce(((e,a)=>("redirect"!==a&&(e[a]=m[a]),e)),{})):"";var m;const p=async()=>{let{name:l,pwd:r}=a;await async function(a,l=!1){const r=e(a).validate;return new Promise((e=>r(((a,r)=>e(l?{valid:a,object:r}:a)))))}(s)&&await u.dispatch("layout/login",{username:l,password:r}).then((()=>{t({title:"欢迎",message:"欢迎回来",type:"success"}),o.push({path:d||"/",query:i})})).catch((()=>{}))},w=l({name:[{validator:(e,a,l)=>{if(!a)return l(new Error("用户名不能为空"));l()},trigger:"blur"}],pwd:[{validator:(e,a,l)=>{if(!a)return l(new Error("密码不能为空"));l()},trigger:"blur"}]});return{labelCol:{span:4},wrapperCol:{span:14},form:a,onSubmit:p,enterSubmit:e=>{"Enter"===e.key&&p()},rules:w,resetFields:y,ruleForm:s}}});const g=m();s("data-v-5a4f21e1");const v=p(" 登录 "),_=p(" 重置 "),h=i("p",{class:"leading-5"}," 账号: admin 密码: admin ",-1),q=i("p",{class:"leading-5"}," 账号: dev 密码: dev ",-1),k=i("p",{class:"leading-5"}," 账号: test 密码: test ",-1);o();const F=g(((e,a,l,r,t,s)=>{const o=n("el-input"),m=n("el-form-item"),p=n("el-button"),c=n("el-form");return u(),d("div",{class:"layout-login",onKeyup:a[4]||(a[4]=(...a)=>e.enterSubmit&&e.enterSubmit(...a))},[i(c,{ref:"ruleForm","label-position":"right","label-width":"80px",model:e.form,rules:e.rules},{default:g((()=>[i(m,{label:"用户名",prop:"name"},{default:g((()=>[i(o,{modelValue:e.form.name,"onUpdate:modelValue":a[1]||(a[1]=a=>e.form.name=a)},null,8,["modelValue"])])),_:1}),i(m,{label:"密码",prop:"pwd"},{default:g((()=>[i(o,{modelValue:e.form.pwd,"onUpdate:modelValue":a[2]||(a[2]=a=>e.form.pwd=a),type:"password",autocomplete:"off"},null,8,["modelValue"])])),_:1}),i(m,null,{default:g((()=>[i(p,{type:"primary",onClick:e.onSubmit},{default:g((()=>[v])),_:1},8,["onClick"]),i(p,{onClick:a[3]||(a[3]=a=>e.resetFields(e.ruleForm))},{default:g((()=>[_])),_:1})])),_:1}),i(m,null,{default:g((()=>[h,q,k])),_:1})])),_:1},8,["model","rules"])],32)}));w.render=F,w.__scopeId="data-v-5a4f21e1";export default w;
//# sourceMappingURL=login.5acf3d31.js.map
